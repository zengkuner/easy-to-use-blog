### ä¸€ä¸ªåœ†ç›˜è¢«åˆ†ä¸º 6 ç­‰åˆ†ï¼Œä¸­å¥–åŒºåŸŸåªæœ‰ä¸€å—ï¼Œç‚¹å‡»æŠ½å¥–è¦æ±‚ä¸­å¥–æ¦‚ç‡åªæœ‰ 10%

```html
<div class="wheel-container">
  <div class="wheel"></div>
  <div class="pointer"></div>
</div>
<button @click="startLottery()" id="lotteryBtn">å¼€å§‹æŠ½å¥–</button>
```

```js
let isRotating = false;

// ä¸­å¥–åŒºåŸŸç´¢å¼•ï¼ˆå‡è®¾ç¬¬ä¸€ä¸ªæ‰‡åŒºä¸ºä¸­å¥–åŒºï¼‰
const winningIndex = 0;

// è®¡ç®—æœ€ç»ˆæ—‹è½¬è§’åº¦
const calculateAngle = (isWin) => {
  const baseAngle = 360 * 5; // åŸºç¡€æ—‹è½¬5åœˆ
  const sectorAngle = 60; // æ¯ä¸ªæ‰‡åŒºè§’åº¦

  if (isWin) {
    return baseAngle + winningIndex * sectorAngle - 30;
  } else {
    // ä»éä¸­å¥–åŒºåŸŸéšæœºé€‰æ‹©
    const nonWinningSectors = [1, 2, 3, 4, 5];
    const randomIndex =
      nonWinningSectors[Math.floor(Math.random() * nonWinningSectors.length)];
    return baseAngle + randomIndex * sectorAngle - 30;
  }
};
const startLottery = () => {
  if (isRotating) return;
  isRotating = true;
  const btn = document.querySelector("#lotteryBtn");
  const wheel = document.querySelector(".wheel");
  btn.disabled = true;

  const p = Math.random();
  console.log(p);
  // ç”Ÿæˆ10%ä¸­å¥–æ¦‚ç‡
  const isWin = p < 0.1;

  // è®¡ç®—ç›®æ ‡è§’åº¦
  const targetAngle = calculateAngle(isWin);

  // åº”ç”¨æ—‹è½¬åŠ¨ç”»
  wheel.style.transform = `rotate(${targetAngle}deg)`;

  // åŠ¨ç”»ç»“æŸåå¤„ç†ç»“æœ
  setTimeout(() => {
    isRotating = false;
    btn.disabled = false;
    alert(isWin ? "ğŸ‰ æ­å–œä¸­å¥–ï¼" : "ğŸ˜¢ æœªä¸­å¥–ï¼Œå†è¯•ä¸€æ¬¡å§~");
    // é‡ç½®è½¬ç›˜ä½ç½®ï¼ˆä¿æŒç»“æŸçŠ¶æ€è§†è§‰è¿ç»­æ€§ï¼‰
    wheel.style.transition = "none";
    wheel.style.transform = `rotate(${targetAngle % 360}deg)`;
    setTimeout(() => {
      wheel.style.transition = "transform 3s ease-out";
    }, 10);
  }, 3000);
};
```

```css
.wheel {
  width: 300px;
  height: 300px;
  border-radius: 50%;
  position: relative;
  transition: transform 3s ease-out;
  background: conic-gradient(
    #ff0000 0deg 60deg,
    #00ff00 60deg 120deg,
    #0000ff 120deg 180deg,
    #ffff00 180deg 240deg,
    #ff00ff 240deg 300deg,
    #00ffff 300deg 360deg
  );
}
.pointer {
  width: 20px;
  height: 40px;
  background: black;
  position: absolute;
  left: 50%;
  top: -20px;
  transform: translateX(-50%);
}
.wheel-container {
  position: relative;
  margin: 50px auto;
  width: 300px;
}
```

### å®ç°åŸç†è¯´æ˜ï¼š

1. **æ¦‚ç‡æ§åˆ¶é€»è¾‘**ï¼š

   - ä½¿ç”¨ `Math.random() < 0.1` å®ç° 10%ä¸­å¥–æ¦‚ç‡
   - ä¸­å¥–æ—¶å¼ºåˆ¶æŒ‡å‘ç¬¬ä¸€ä¸ªæ‰‡åŒºï¼ˆ0 å·ç´¢å¼•ï¼‰
   - æœªä¸­å¥–æ—¶éšæœºé€‰æ‹©å…¶ä»– 5 ä¸ªæ‰‡åŒºï¼ˆæ¦‚ç‡å‡åˆ† 90%ï¼‰

2. **è½¬ç›˜åŠ¨ç”»å®ç°**ï¼š

   - åŸºç¡€æ—‹è½¬ 5 åœˆï¼ˆ`360 * 5`ï¼‰å¢å¼ºè§†è§‰æ•ˆæœ
   - ä½¿ç”¨ CSS è¿‡æ¸¡å®ç°å¹³æ»‘åŠ¨ç”»ï¼ˆ`transition: transform 3s ease-out`ï¼‰
   - è®¡ç®—æœ€ç»ˆåœç•™è§’åº¦ï¼š`åŸºç¡€åœˆæ•°è§’åº¦ + ç›®æ ‡æ‰‡åŒºè§’åº¦`

3. **è¾¹ç•Œæ¡ä»¶å¤„ç†**ï¼š

   - é˜²æ­¢é‡å¤ç‚¹å‡»ï¼ˆ`isRotating`çŠ¶æ€é”ï¼‰
   - åŠ¨ç”»ç»“æŸåé‡ç½®è½¬ç›˜ä½ç½®æ—¶ä¿æŒè§†è§‰è¿ç»­æ€§
   - ä½¿ç”¨`setTimeout`ç¡®ä¿ CSS è¿‡æ¸¡é‡ç½®æ—¶åºæ­£ç¡®

4. **è§†è§‰æ•ˆæœä¼˜åŒ–**ï¼š
   - ä½¿ç”¨ CSS é”¥å½¢æ¸å˜ï¼ˆ`conic-gradient`ï¼‰åˆ›å»ºå½©è‰²è½¬ç›˜
   - æ·»åŠ æŒ‡é’ˆå…ƒç´ å¢å¼ºäº¤äº’æ„Ÿ
   - å¹³æ»‘çš„ç¼“åŠ¨å‡½æ•°ï¼ˆ`ease-out`ï¼‰æå‡åŠ¨ç”»è´¨æ„Ÿ

### å…³é”®å‚æ•°è¯´æ˜ï¼š

```javascript
const baseAngle = 360 * 5; // åŸºç¡€æ—‹è½¬åœˆæ•°ï¼ˆå¯è°ƒæ•´åœˆæ•°ï¼‰
const sectorAngle = 360 / 6; // æ¯ä¸ªæ‰‡åŒºè§’åº¦ï¼ˆ6ç­‰åˆ†ï¼‰
const winningIndex = 0; // ä¸­å¥–æ‰‡åŒºç´¢å¼•ï¼ˆå¯ä¿®æ”¹ä½ç½®ï¼‰
```

### æ‰©å±•å»ºè®®ï¼š

1. **å¢åŠ éŸ³æ•ˆ**ï¼šåœ¨ä¸­å¥–/æœªä¸­å¥–æ—¶æ’­æ”¾ä¸åŒå£°éŸ³
2. **æ•°æ®ç»Ÿè®¡**ï¼šè®°å½•å¹¶å±•ç¤ºå†å²ä¸­å¥–æ¬¡æ•°
3. **å¤šå¥–æ± æ”¯æŒ**ï¼šé€šè¿‡æ•°ç»„é…ç½®å¤šä¸ªä¸­å¥–åŒºåŸŸ
4. **æ¦‚ç‡è¡°å‡**ï¼šæ ¹æ®è¿ç»­æœªä¸­å¥–æ¬¡æ•°åŠ¨æ€è°ƒæ•´æ¦‚ç‡
5. **æœåŠ¡ç«¯éªŒè¯**ï¼šé‡è¦æŠ½å¥–åº”ä¸æœåŠ¡ç«¯è¿›è¡ŒäºŒæ¬¡éªŒè¯

å®é™…æ¦‚ç‡éªŒè¯æ–¹æ³•ï¼ˆæµ‹è¯•ä»£ç ï¼‰ï¼š

```javascript
let winCount = 0;
const testTimes = 10000;

for (let i = 0; i < testTimes; i++) {
  if (Math.random() < 0.1) winCount++;
}

console.log(`å®é™…æ¦‚ç‡ï¼š${((winCount / testTimes) * 100).toFixed(2)}%`);
// è¾“å‡ºç¤ºä¾‹ï¼šå®é™…æ¦‚ç‡ï¼š9.87% ï¼ˆæ»¡è¶³10%å·¦å³æµ®åŠ¨ï¼‰
```
